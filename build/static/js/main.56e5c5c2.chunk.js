(this["webpackJsonpouting-planner-frontend"]=this["webpackJsonpouting-planner-frontend"]||[]).push([[0],{100:function(e,t,n){"use strict";var r=n(154),c=n(152),a=n(150),i=n(151),s=n(30),u=n(1);t.a=function(e){var t=e.id,n=e.name,o=e.control,l=e.label,j=e.options,b=void 0===j?[]:j,d=e.defaultValue;return Object(u.jsx)(s.a,{name:n,defaultValue:d,control:o,render:function(e){var n=e.field,s=n.onChange,o=n.value;e.fieldState.error;return Object(u.jsxs)(r.a,{style:{marginTop:"1rem"},id:t||void 0,children:[Object(u.jsx)(c.a,{id:"".concat(l,"-select-label"),children:l}),Object(u.jsx)(a.a,{labelId:"".concat(l,"-select-label"),value:o,label:l,onChange:s,children:b.map((function(e){var t=e.lab,n=e.val;return Object(u.jsx)(i.a,{value:n,children:t},n)}))})]})}})}},117:function(e,t,n){},123:function(e,t,n){},128:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);n(117);var r=n(29),c=n.n(r),a=n(10),i=n(17),s=n(7),u=n(223),o=n(0),l=n(18),j=n(4),b=n(153),d=n(19),O=n(1);var f=function(){var e=Object(o.useContext)(d.a),t=e.isLight,n=e.theme,r=e.toggleTheme;return Object(O.jsx)("button",{className:"theme-button",onClick:function(){return r()},style:{backgroundColor:t?"white":"grey",marginRight:"2rem"},children:Object(O.jsx)("div",{style:Object(j.a)({marginLeft:t?"0rem":"2rem",marginRight:t?"2rem":"0rem"},n),children:t?"\u2600\ufe0f":"\ud83c\udf1b"})})},h=(n(123),n(22)),p=n(95),m=n.n(p),x=function(){var e=Object(h.b)(),t=e.me,n=e.logout,r=Object(d.c)().theme,c=Object(l.h)();return Object(O.jsx)("header",{id:"app-header",style:Object(j.a)(Object(j.a)({},r),{},{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:r.color}),children:Object(O.jsxs)("nav",{children:[Object(O.jsx)(m.a,{style:{marginRight:"auto",marginLeft:"1.2rem",fontSize:"3.2rem"},onClick:function(){return c("/")}}),Object(O.jsx)(f,{}),t.auth&&Object(O.jsxs)("h3",{children:["Hello, ",t.email]}),t.auth?Object(O.jsx)(b.a,{onClick:function(){return n()},children:"Log Out"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{onClick:function(){return c("/signup")},children:"Sign Up"}),Object(O.jsx)(b.a,{onClick:function(){return c("/login")},children:"Login"})]})]})})},v=(n(128),n(214)),g=n(25),y=function(e){var t=e.to,n=e.children,r=e.title,c=Object(d.c)().theme;return Object(O.jsx)(v.a,{title:r,children:Object(O.jsx)(g.b,{style:Object(j.a)({},c),to:t,children:n})})},C=Object(o.createContext)({isMobile:!0,isDesktop:!1}),S=function(){return Object(o.useContext)(C)},k=n(205),w=n(206),E=n(207),_=n(208),T=n(209),N=n(210),P=n(23),A=function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/api/v1/couples/get_partner",{user1_id:t});case 2:return n=e.sent,r=n.couple,c=n.partner,e.abrupt("return",{couple:r,partner:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(h.b)().me,t=S().isDesktop,n=Object(d.c)().theme;return Object(O.jsxs)("div",{id:"navbar",style:n,children:[Object(O.jsx)(y,{title:"Home",to:"/",children:Object(O.jsx)(k.a,{})}),Object(O.jsx)(y,{title:"Outings",to:"/outings",children:Object(O.jsx)(w.a,{})}),Object(O.jsx)(y,{title:"New Outing",to:"/new_outing",children:Object(O.jsx)(E.a,{})}),t&&Object(O.jsx)(y,{title:"Users",to:"/users",children:Object(O.jsx)(_.a,{})}),Object(O.jsx)(y,{title:"New Couple",to:"/new_couple",children:Object(O.jsx)(T.a,{})}),Object(O.jsx)(y,{title:"My Couple",to:"/my_couple",children:Object(O.jsx)(N.a,{})}),Object(O.jsx)(b.a,{onClick:function(){return A(e.id)},children:"Get partner."})]})};function D(){var e=Object(d.c)().theme,t=Object(h.b)().me,n=Object(o.useState)([]),r=Object(s.a)(n,2),c=r[0],u=r[1],l=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/api/v1/couples",{user_id:t.id});case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){l()}),[]);var b=function(){return Object(O.jsx)("ul",{children:c.map((function(e){return Object(O.jsx)("li",{children:JSON.stringify(e)},e.id)}))})};return Object(O.jsx)("div",{className:"main",style:Object(j.a)({},e),children:Object(O.jsx)(b,{})})}var L=n(30),I=n(38);function V(){var e=Object(h.b)().me,t=Object(d.c)().theme,n=Object(L.b)(),r=n.control,c=(0,n.handleSubmit)(function(){var t=Object(i.a)(Object(a.a)().mark((function t(n){var r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,P.a.post("/api/v1/couples",{friend_email:n.friend_email,user1_id:+e.id});case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(O.jsx)("div",{className:"main",style:Object(j.a)({},t),children:Object(O.jsxs)("form",{onSubmit:c,children:[Object(O.jsx)(I.a,{name:"friend_email",control:r,label:"Friend Email",defaultValue:""}),Object(O.jsx)("input",{type:"submit"})]})})}var M=n(99);n(134);function F(){var e=Object(h.b)(),t=e.me,n=e.login,r=Object(L.b)(),c=r.handleSubmit,s=r.control,u=c(function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/auth/login",e.next=3,P.a.post("/auth/login",t);case 3:(r=e.sent).token&&r.user&&n(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return t.auth?Object(O.jsx)(l.a,{to:"/"}):Object(O.jsxs)("form",{id:"login-form",children:[Object(O.jsx)(I.a,{name:"email",control:s,label:"Email",defaultValue:""}),Object(O.jsx)(I.a,{name:"password",control:s,label:"Password",defaultValue:""}),Object(O.jsx)(b.a,{onClick:u,children:"Submit"})]})}function W(){var e=Object(d.c)().theme;return Object(O.jsx)("div",{className:"main",id:"login-page",style:Object(j.a)({},e),children:Object(O.jsx)(F,{})})}n(135);var U=n(20),B=(n(136),["to"]);function H(e){var t=e.to,n=void 0===t?"":t,r=Object(U.a)(e,B),c=Object(l.g)();return Object(O.jsx)(g.c,Object(j.a)({className:"outing-item",to:n+c.search},r))}var q=function(e){var t=e.outing;return Object(O.jsx)(H,{to:"/outings/".concat(t.id),children:t.title},t.id)},$=function(e){var t=e.outings;return console.log({outings:t}),t?Object(O.jsx)(O.Fragment,{children:t.map((function(e){return Object(O.jsx)(q,{outing:e},e.id)}))}):null},G=Object(o.createContext)({outings:[],getOuting:function(){},updateOuting:function(){},doSearch:function(){},clearSearch:function(){}}),Y=function(){return Object(o.useContext)(G)},K=function(){var e=Y().outings;return Object(O.jsxs)("div",{id:"home-inner",children:[Object(O.jsx)("h1",{children:"Top Outings"}),Object(O.jsx)($,{outings:e})]})},Z=function(){var e=Object(d.c)().theme,t=Object(h.b)().me,n=function(){return Object(O.jsx)("div",{id:"home-inner",children:Object(O.jsx)("h1",{children:"Erica and Hayato's Outing Planner"})})};return Object(O.jsx)("div",{className:"main",id:"home-page",style:Object(j.a)({},e),children:t.auth?Object(O.jsx)(K,{}):Object(O.jsx)(n,{})})},X=n(16),z=(n(137),n(212)),J=n(213),Q=n(49),ee=n(222);function te(){var e=Object(l.i)(),t=Object(o.useState)(null),n=Object(s.a)(t,2),r=n[0],c=n[1],u=Object(o.useContext)(G),j=u.outings,b=u.updateOuting,d=Object(o.useCallback)(Object(i.a)(Object(a.a)().mark((function t(){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=parseInt(e.outingId,10),P.a.post("/api/v1/outings/toggle_favorite",{id:n}),r=j.find((function(t){return t.id===parseInt(e.outingId,10)}))){t.next=6;break}return console.error("No existing outing in toggleFavorite"),t.abrupt("return");case 6:b(n,{is_favorite:!r.is_favorite});case 7:case"end":return t.stop()}}),t)}))),[b,e,j]),f=Object(o.useCallback)(Object(i.a)(Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("/api/v1/outings/".concat(parseInt(e.outingId,10)));case 2:n=t.sent,c(n);case 4:case"end":return t.stop()}}),t)}))),[e.outingId]);if(Object(o.useEffect)((function(){f()}),[f]),!r)return Object(O.jsx)("main",{className:"outing-content",style:{padding:"1rem"},children:Object(O.jsx)("h2",{children:"Nothing here"})});var h=r.title,p=r.mood,m=r.price,x=r.genre,v=r.description,g=r.image;return Object(O.jsxs)(Q.a,{id:"Outing",children:[Object(O.jsxs)("header",{className:"outing-header",children:[Object(O.jsx)("h3",{children:h}),Object(O.jsx)(ee.a,{onClick:d,children:r.is_favorite?Object(O.jsx)(z.a,{style:{color:"gold"}}):Object(O.jsx)(z.a,{style:{color:"grey"}})})]}),Object(O.jsxs)("main",{children:[Object(O.jsx)("p",{children:"Excitement Rating:"}),Object(X.a)(Array(p)).map((function(e,t){return Object(O.jsx)(z.a,{},t)})),Object(O.jsx)("p",{children:"Price:"}),Object(X.a)(Array(m)).map((function(e,t){return Object(O.jsx)(J.a,{},t)})),Object(O.jsx)("p",{children:"Genre:"}),Object(O.jsx)("p",{children:x}),Object(O.jsx)("p",{children:v}),g&&Object(O.jsx)("img",{src:g,alt:""})]})]})}function ne(){var e=Object(g.d)(),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Y(),a=c.outings,i=c.doSearch,u=c.clearSearch,b=Object(d.c)(),f=b.theme;b.isLight;return Object(o.useEffect)((function(){var e=n.get("title");e?i("title",e):u()}),[n]),Object(O.jsxs)("div",{className:"main",style:Object(j.a)({},f),children:[Object(O.jsxs)("nav",{style:{borderRight:"solid 1px",padding:"1rem"},children:[Object(O.jsx)("input",{value:n.get("title")||"",onChange:function(e){var t=e.target.value;r(t?{title:t}:{})}}),Object(O.jsx)($,{outings:a})]}),Object(O.jsx)(l.b,{})," "]})}var re=function(e){var t=e.me,n=e.loaded,r=e.children;return n?t.auth?r:Object(O.jsx)(l.a,{to:"/"}):r};n(138);function ce(){var e=Object(h.b)(),t=e.me,n=e.login,r=Object(d.c)().theme,c=Object(L.b)(),s=c.handleSubmit,u=(c.formState.errors,c.control),o=function(){var e=Object(i.a)(Object(a.a)().mark((function e(t){var r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user:t},e.next=3,P.a.post("/auth/signup",r);case 3:if(!(c=e.sent).token||!c.user){e.next=9;break}return n(c),e.abrupt("return");case 9:console.error(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t.auth?Object(O.jsx)(l.a,{to:"/"}):Object(O.jsx)("div",{className:"main",id:"signup-page",style:Object(j.a)({},r),children:Object(O.jsxs)("form",{id:"signup-form",children:[Object(O.jsx)(I.a,{name:"f_name",control:u,label:"First Name",defaultValue:""}),Object(O.jsx)(I.a,{name:"l_name",control:u,label:"Last Name",defaultValue:""}),Object(O.jsx)(I.a,{name:"email",control:u,label:"Email",defaultValue:""}),Object(O.jsx)(I.a,{name:"password",control:u,label:"Password",defaultValue:""}),Object(O.jsx)(b.a,{onClick:s(o),children:"Sign Up"})]})})}var ae=function(){var e=Object(d.c)().theme,t=Object(o.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],u=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.a.get("/api/v1/users"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:t=e.sent,n=t.map((function(e){var t=e.f_name,n=e.l_name,r=e.email;return Object(O.jsxs)("div",{style:{border:"1px solid grey",padding:"1rem",margin:"0.5rem 1rem 0.5rem"},children:[Object(O.jsxs)("p",{children:["First: ",t]}),Object(O.jsxs)("p",{children:["Last: ",n]}),Object(O.jsxs)("p",{children:["Email: ",r]})]},r)})),c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"main",style:Object(j.a)({},e),children:[Object(O.jsx)(b.a,{onClick:l,children:"get user data"}),Boolean(r.length)&&r]})},ie=n(218),se=n(58),ue=(n(139),function(){var e,t,n=Object(h.b)().me,r=(Object(d.c)().theme,Object(se.b)()),c=r.myCouple,a=r.myPartner;if(!a||!c)return Object(O.jsx)(Q.a,{children:"No partner ya loser!"});var i=120,s=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())};return Object(O.jsxs)(Q.a,{id:"MyCouple",children:[Object(O.jsxs)("div",{className:"info-section",children:[Object(O.jsxs)("div",{className:"avatars",children:[Object(O.jsx)(ie.a,{sx:{width:i,height:i},src:((null===n||void 0===n||null===(e=n.image)||void 0===e?void 0:e.length)||0)>0?n.image:"https://gravatar.com/avatar/468355c6815fe2c112e0de6724ca5c0a?s=400&d=robohash&r=x"}),Object(O.jsx)(ie.a,{sx:{width:i,height:i},src:((null===a||void 0===a||null===(t=a.image)||void 0===t?void 0:t.length)||0)>0?a.image:"https://gravatar.com/avatar/468355c68f5fe2c112e0de6724ca5c0a?s=400&d=robohash&r=x"})]}),Object(O.jsxs)("h1",{children:[n.f_name," & ",a.f_name]}),Object(O.jsxs)("div",{className:"quick-stats",children:[Object(O.jsxs)("div",{className:"stat",children:[Object(O.jsx)("span",{children:"# Dates"}),Object(O.jsx)("span",{children:c.total_outings})]}),Object(O.jsxs)("div",{className:"stat",children:[Object(O.jsx)("span",{children:"Last date"}),Object(O.jsx)("span",{children:s(c.updated_at||"")})]}),Object(O.jsxs)("div",{className:"stat",children:[Object(O.jsx)("span",{children:"Started"}),Object(O.jsx)("span",{children:s(c.created_at||"")})]})]}),Object(O.jsx)("div",{className:"round-edge",style:{backgroundColor:"#4DA4EA"},children:Object(O.jsx)("div",{})})]}),Object(O.jsx)("div",{className:"stats-section",children:Object(O.jsxs)("div",{className:"stats-grid",children:[Object(O.jsx)("span",{children:a.f_name}),Object(O.jsx)("span",{children:n.f_name}),Object(O.jsxs)("span",{children:["XYZ",Object(O.jsx)("span",{className:"row-title",children:"Title"})]}),Object(O.jsx)("span",{children:"XYZZ"}),Object(O.jsxs)("span",{children:["XYZ",Object(O.jsx)("span",{className:"row-title",children:"Title"})]}),Object(O.jsx)("span",{children:"XYZ"}),Object(O.jsxs)("span",{children:["XYZ",Object(O.jsx)("span",{className:"row-title",children:"Title"})]}),Object(O.jsx)("span",{children:"XYZ"})]})})]})});var oe=function(){var e=S(),t=e.isMobile,n=e.isDesktop,r=Object(o.useState)(!1),c=Object(s.a)(r,2),j=c[0],b=c[1],d=Object(h.b)(),f=d.me,p=d.updateMe,m=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/auth/verify_jwt");case 2:if(!(t=e.sent).errors){e.next=6;break}return b(!0),e.abrupt("return");case 6:t&&p(t),b(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){return Object(O.jsx)("div",{style:{backgroundColor:"white",position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},children:Object(O.jsx)(u.a,{color:"secondary"})})};return Object(o.useEffect)((function(){m()}),[]),Object(O.jsxs)("div",{id:"App",children:[!j&&Object(O.jsx)(v,{}),Object(O.jsx)(x,{}),Object(O.jsxs)("div",{id:"layout",children:[n&&f.auth&&Object(O.jsx)(R,{}),Object(O.jsxs)(l.e,{children:[Object(O.jsx)(l.c,{path:"signup",element:Object(O.jsx)(ce,{})}),Object(O.jsx)(l.c,{path:"login",element:Object(O.jsx)(W,{})}),Object(O.jsx)(l.c,{path:"/",element:Object(O.jsx)(Z,{})}),Object(O.jsx)(l.c,{path:"new_outing",element:Object(O.jsx)(re,{me:f,loaded:j,children:Object(O.jsx)(M.a,{})})}),Object(O.jsx)(l.c,{path:"my_couple",element:Object(O.jsx)(re,{me:f,loaded:j,children:Object(O.jsx)(ue,{})})}),Object(O.jsx)(l.c,{path:"outings",element:Object(O.jsx)(re,{me:f,loaded:j,children:Object(O.jsx)(ne,{})})}),Object(O.jsx)(l.c,{path:"outings/:outingId",element:Object(O.jsx)(re,{me:f,loaded:j,children:Object(O.jsx)(te,{})})}),Object(O.jsxs)(l.c,{path:"outings",element:Object(O.jsx)(ne,{}),children:[Object(O.jsx)(l.c,{index:!0,element:Object(O.jsx)("main",{style:{padding:"1rem"},children:Object(O.jsx)("p",{children:"Select an outing"})})}),Object(O.jsx)(l.c,{path:":outingId",element:Object(O.jsx)(te,{})})]}),Object(O.jsx)(l.c,{path:"users",element:Object(O.jsx)(re,{me:f,loaded:j,children:Object(O.jsx)(ae,{})})}),Object(O.jsx)(l.c,{path:"new_couple",element:Object(O.jsx)(re,{me:f,loaded:j,children:Object(O.jsx)(V,{})})}),Object(O.jsx)(l.c,{path:"couples",element:Object(O.jsx)(re,{me:f,loaded:j,children:Object(O.jsx)(D,{})})})]})]}),t&&f.auth&&Object(O.jsx)(R,{})]})},le=n(88),je=function(e){var t=e.children,n=Object(le.useMediaQuery)({maxWidth:767}),r=Object(le.useMediaQuery)({minWidth:768});return Object(O.jsx)(C.Provider,{value:{isMobile:n,isDesktop:r},children:t})},be=n(101),de=n(219),Oe=Object(be.a)({typography:{fontSize:22}}),fe=function(e){var t=e.children,n=Object(o.useState)(!0),r=Object(s.a)(n,2),c=r[0],a=r[1],i=Object(o.useState)(d.b.light),u=Object(s.a)(i,2),l=u[0],j=u[1];return Object(O.jsx)(de.a,{theme:Oe,children:Object(O.jsx)(d.a.Provider,{value:{isLight:c,theme:l,toggleTheme:function(){l===d.b.light?(a(!1),j(d.b.dark)):(a(!0),j(d.b.light))}},children:t})})},he=n(3),pe=function(e){var t=e.children,n=Object(o.useState)([]),r=Object(s.a)(n,2),c=r[0],u=r[1];var l=Object(o.useReducer)((function(e,t){switch(t.type){case"clear":return{};case"filter":return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}}),{}),b=Object(s.a)(l,2),d=b[0],f=b[1],h=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t,n,r=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,P.a.get("/api/v1/outings",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){h(d).then((function(e){return u(e)}))}),[d]),Object(O.jsx)(G.Provider,{value:{outings:c,getOuting:function(e){return c.find((function(t){return t.id===e}))},updateOuting:function(e,t){var n=c.find((function(t){return t.id===e}));return n?(Object.keys(t).forEach((function(e){return n[e]=t[e]})),u(Object(X.a)(c)),!0):(console.error("No outing found (updateOuting)"),!1)},doSearch:function(e,t){f({type:"filter",payload:Object(he.a)({},e,t)})},clearSearch:function(){f({type:"clear"})}},children:t})},me=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("http://localhost:3001/api/v1/auth",{email:"hayato@gmail.com",password:"foobar"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=n(69),ve=function(e){var t=e.children,n=Object(l.h)(),r=Object(o.useState)({auth:!1}),c=Object(s.a)(r,2),a=c[0],i=c[1];return Object(O.jsx)(h.a.Provider,{value:{me:a,getMe:function(){me().then((function(e){i(Object(j.a)(Object(j.a)({},e),{},{auth:!0}))}))},updateMe:function(e){return i(Object(j.a)(Object(j.a)({},e),{},{auth:!0}))},logout:function(){Object(xe.a)(),i({auth:!1}),n("/login")},login:function(e){var t=e.user,n=e.token;Object(xe.c)(n),i(Object(j.a)(Object(j.a)({},t),{},{auth:!0}))}},children:t})},ge=function(e){var t=e.children,n=Object(h.b)().me,r=Object(o.useState)({}),c=Object(s.a)(r,2),a=c[0],i=c[1],u=Object(o.useState)({}),l=Object(s.a)(u,2),j=l[0],b=l[1];return Object(o.useEffect)((function(){n.id&&A(n.id).then((function(e){i(e.couple),b(e.partner)}))}),[n.id]),Object(O.jsx)(se.a.Provider,{value:{myCouple:a,myPartner:j},children:t})};c.a.render(Object(O.jsx)(g.a,{children:Object(O.jsx)(je,{children:Object(O.jsx)(fe,{children:Object(O.jsx)(ve,{children:Object(O.jsx)(ge,{children:Object(O.jsx)(pe,{children:Object(O.jsx)(oe,{})})})})})})}),document.getElementById("root"))},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i}));var r=n(0),c={light:{backgroundColor:"#555577",color:"#EEEEEE"},dark:{backgroundColor:"#EEEEEE",color:"#000000"}},a=Object(r.createContext)({isLight:!0,theme:c.light,toggleTheme:function(){}}),i=function(){return Object(r.useContext)(a)}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n(0),c=Object(r.createContext)({me:{auth:!1},getMe:function(){},updateMe:function(){},logout:function(){},login:function(){}}),a=function(){return Object(r.useContext)(c)}},23:function(e,t,n){"use strict";var r=n(10),c=n(4),a=n(17),i=n(7),s=n(69),u={makeRequest:function(){},post:function(){},get:function(){},delete:function(){},update:function(){}};function o(e){return e?(Object.entries(e).forEach((function(t){var n=Object(i.a)(t,2),r=n[0];null==n[1]&&delete e[r]})),e):{}}u.makeRequest=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n,a){var i,u,l,j,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(s.b)(),n.startsWith("/")&&(n=""+n),u="",a=o(a),l=["POST","UPDATE"].includes(t)&&!!a,["GET","DELETE"].includes(t)?Object.keys(a).length>0&&(j=new URLSearchParams(Object(c.a)({},a)))&&(n+="?"+j):l&&(u=JSON.stringify(a)),e.next=8,fetch(n,Object(c.a)({method:t,headers:Object(c.a)({mode:"cors","Access-Control-Allow-Origin":"*","Content-Type":"application/json"},i&&{Authorization:i})},l&&{body:u})).then((function(e){return e.json()})).catch((function(e){return e}));case 8:return b=e.sent,e.abrupt("return",b);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u.get=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.makeRequest("GET",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u.post=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.makeRequest("POST",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u.update=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.makeRequest("UPDATE",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u.delete=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.makeRequest("DELETE",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.a=u},38:function(e,t,n){"use strict";var r=n(106),c=n(30),a=n(1);t.a=function(e){var t=e.name,n=e.control,i=e.rules,s=void 0===i?{}:i,u=e.label,o=e.defaultValue,l=void 0===o?"":o,j=e.autoComplete,b=void 0===j?"":j;return Object(a.jsx)(c.a,{name:t,control:n,defaultValue:l,rules:s,render:function(e){var t=e.field,n=t.onChange,c=t.value,i=e.fieldState.error;return Object(a.jsx)(r.a,{label:u,variant:"filled",value:c,onChange:n,error:!!i,helperText:i?i.message:null,autoComplete:b,inputProps:{autoComplete:b,form:{autoComplete:"off"}}})}})}},49:function(e,t,n){"use strict";var r=n(4),c=n(20),a=(n(133),n(19)),i=n(1),s=["children"];t.a=function(e){var t=e.children,n=Object(c.a)(e,s),u=Object(a.c)().theme;return Object(i.jsx)("div",Object(r.a)(Object(r.a)({className:"main ".concat(n.classes?n.classes:""),style:Object(r.a)(Object(r.a)({},u),n.style)},n),{},{children:t}))}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n(0),c=Object(r.createContext)({myCouple:{},myPartner:{}}),a=function(){return Object(r.useContext)(c)}},69:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_API_BASE:""}).REACT_APP_LOCALSTORAGE_AUTH_KEY,c=function(){return localStorage.getItem(r)},a=function(e){return localStorage.setItem(r,e)},i=function(){return localStorage.removeItem(r)}},99:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(10),c=n(4),a=n(17),i=n(7),s=(n(132),n(0)),u=n(30),o=n(38),l=n(22),j=n(19),b=n(23),d=n(106),O=n(105),f=n(153),h=n(58),p=n(49),m=n(100),x=n(25),v=n(1);function g(){Object(j.c)().theme;var t,n,g,y=Object(h.b)().myCouple,C=Object(l.b)().me,S=Object(s.useState)(0),k=Object(i.a)(S,2),w=k[0],E=k[1],_=Object(u.b)(),T=_.control,N=_.handleSubmit,P=_.reset,A=(_.formState.errors,N(function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={outing:Object(c.a)(Object(c.a)({},t),{},{couple_id:y.id})},e.next=3,b.a.post("/api/v1/outings",n);case 3:return null!==(a=e.sent)&&void 0!==a&&a.id&&(E(a.id),P()),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),R=Object(s.useState)([]),D=Object(i.a)(R,2),L=(D[0],D[1]),I=Object(s.useCallback)(Object(a.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b.a.get("/api/v1/couples",{user_id:+C.id});case 4:t=e.sent,L(t);case 6:case"end":return e.stop()}}),e)}))),[C.id]);Object(s.useEffect)((function(){I()}),[I]);var V=Object(s.useState)(3),M=Object(i.a)(V,2),F=M[0],W=M[1],U=[{value:1,label:"$"},{value:2,label:""},{value:3,label:"$$$"},{value:4,label:""},{value:5,label:"$$$$$"}],B=(null===(t=e)||void 0===t||null===(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_API_BASE:""}))||void 0===n||null===(g=n.REACT_APP_CATEGORIES)||void 0===g?void 0:g.split(",").map((function(e){return{key:e,val:e,lab:e}})))||[];return y.id?Object(v.jsxs)(p.a,{id:"new-outing-page",children:[Object(v.jsxs)("form",{id:"new-outing-form",onSubmit:A,children:[Object(v.jsx)(o.a,{name:"title",control:T,label:"Title",defaultValue:"",rules:{required:"Required"}}),Object(v.jsx)(u.a,{name:"description",control:T,defaultValue:"",render:function(e){var t=e.field,n=t.onChange,r=t.value,c=e.fieldState.error;return Object(v.jsx)(d.a,{label:"Description",variant:"filled",value:r,onChange:n,error:!!c,multiline:!0,helperText:c?c.message:null})}}),Object(v.jsx)(u.a,{name:"price",control:T,defaultValue:3,render:function(e){var t=e.field,n=t.onChange;t.value,e.fieldState.error;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{className:"slider-label",style:{marginTop:"1rem"},children:"Price"}),Object(v.jsx)(O.a,{id:"price-slider",onChange:n,valueLabelDisplay:"auto",step:1,defaultValue:3,marks:U,min:1,max:5,style:{maxWidth:"26rem",margin:"0 auto 3rem"}})]})}}),Object(v.jsx)(u.a,{name:"mood",control:T,defaultValue:3,render:function(e){var t=e.field,n=t.onChange;t.value,e.fieldState.error;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{className:"slider-label",children:"Mood"}),Object(v.jsx)(O.a,{id:"mood-slider",onChange:function(e,t){n();var r=Array.isArray(t)?t[0]:t;r!==F&&(W(r),document.documentElement.style.setProperty("--mood-value","url('../../assets/images/mood-face-".concat(r,".png')")))},valueLabelDisplay:"auto",step:1,defaultValue:3,marks:!0,min:1,max:5,style:{maxWidth:"26rem",margin:"0 auto"}})]})}}),Object(v.jsx)(m.a,{name:"genre",control:T,label:"Genre",defaultValue:B[3].lab,options:B}),Object(v.jsx)(f.a,{type:"submit",children:"Create Outing"})]}),Boolean(w)&&Object(v.jsx)("div",{children:Object(v.jsx)(x.b,{to:"/outings/".concat(w),children:"Go to outing"})})]}):Object(v.jsx)(p.a,{})}}).call(this,n(131))}},[[140,1,2]]]);
//# sourceMappingURL=main.56e5c5c2.chunk.js.map