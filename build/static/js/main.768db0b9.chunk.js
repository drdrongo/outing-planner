(this["webpackJsonpouting-planner-frontend"]=this["webpackJsonpouting-planner-frontend"]||[]).push([[0],{59:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);n(59);var r=n(48),c=n.n(r),i=n(20),o=n(5),a=n(6),s=n(11),u=n(9),l=n(4),j=n.n(l),b=n(0),d=n(90),h={light:{backgroundColor:"#555577",color:"#EEEEEE"},dark:{backgroundColor:"#EEEEEE",color:"#000000"}},p=Object(b.createContext)({isLight:!0,theme:h.light,toggleTheme:function(){}}),O=function(){return Object(b.useContext)(p)},f=n(1),x=function(e){var t=e.to,n=e.children,r=O().theme;return Object(f.jsx)(i.b,{style:Object(s.a)({},r),to:t,children:n})};var m=function(){var e=Object(b.useContext)(p),t=e.isLight,n=e.theme,r=e.toggleTheme;return Object(f.jsx)("button",{className:"theme-button",onClick:function(){return r()},style:{backgroundColor:t?"white":"grey",marginRight:"2rem"},children:Object(f.jsx)("div",{style:Object(s.a)({marginLeft:t?"0rem":"2rem",marginRight:t?"2rem":"0rem"},n),children:t?"\u2600\ufe0f":"\ud83c\udf1b"})})},g=n(29);function v(){var e=Object(g.a)(),t=e.register,n=e.handleSubmit,r=(e.formState.errors,n(function(){var e=Object(u.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({data:t}),"http://localhost:3000/api/v1/users",e.next=4,fetch("http://localhost:3000/api/v1/users",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 4:return n=e.sent,r=n.json(),console.log({r:r}),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));return Object(f.jsxs)("form",{style:{position:"fixed",inset:0,backgroundColor:"grey",display:"flex",flexDirection:"column",width:"200px"},onSubmit:r,children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",Object(s.a)({},t("email"))),Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",Object(s.a)({},t("password"))),Object(f.jsx)("input",{type:"submit"})]})}var w=function(){var e=O(),t=(e.isLight,e.theme),n=Object(b.useState)(!1),r=Object(a.a)(n,2),c=r[0],i=r[1];return Object(f.jsxs)("header",{className:"app-header",style:Object(s.a)(Object(s.a)({},t),{},{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:t.color}),children:[Object(f.jsxs)("nav",{children:[Object(f.jsx)(m,{}),Object(f.jsx)(x,{to:"/outings",children:"Outings"})," |"," ",Object(f.jsx)(x,{to:"/expenses",children:"Expenses"})," |"," ",Object(f.jsx)(x,{to:"/swiper",children:"Swiper"})," |"," ",Object(f.jsx)(x,{to:"/new_outing",children:"New Outing"})," |"," ",Object(f.jsx)(x,{to:"/new_user",children:"New User"}),Object(f.jsx)(x,{to:"/users",children:"Users"}),Object(f.jsx)(d.a,{onClick:function(){return i(!c)},children:"Log in"})]}),c&&Object(f.jsx)(v,{})]})};var y=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(w,{}),Object(f.jsx)(o.a,{})]})};function k(){return Object(f.jsx)("main",{style:{padding:"1rem 0"},children:Object(f.jsx)("h2",{children:"Expenses"})})}var E=n(52),S=["to"];function C(e){var t=e.to,n=void 0===t?"":t,r=Object(E.a)(e,S),c=Object(o.f)();return Object(f.jsx)(i.c,Object(s.a)({to:n+c.search},r))}var T=function(e){var t=e.outing;return Object(f.jsx)(C,{style:function(e){var t=e.isActive;return{display:"block",margin:"1rem 0",color:void 0!==t&&t?"red":""}},to:"/outings/".concat(t.id),children:t.title},t.id)},N=function(e){var t=e.outings;return Object(f.jsx)(f.Fragment,{children:t.map((function(e){return Object(f.jsx)(T,{outing:e})}))})},P=Object(b.createContext)({outings:[],getOuting:function(){},updateOuting:function(){}}),_=function(){return Object(b.useContext)(P)};function F(){var e=Object(i.d)(),t=Object(a.a)(e,2),n=t[0],r=t[1],c=_().outings,u=O(),l=u.theme;u.isLight;return console.log({theme:l}),Object(f.jsxs)("div",{className:"main",style:Object(s.a)({},l),children:[Object(f.jsxs)("nav",{style:{borderRight:"solid 1px",padding:"1rem"},children:[Object(f.jsx)("input",{value:n.get("filter")||"",onChange:function(e){var t=e.target.value;r(t?{filter:t}:{})}}),Object(f.jsx)(N,{outings:c})]}),Object(f.jsx)(o.a,{})," "]})}var L=n(7),W=n(86),I=n(87),R=n(88),A=n(89),G={makeRequest:function(){},post:function(){},get:function(){},delete:function(){},update:function(){}};function J(e){return e?(Object.entries(e).forEach((function(t){var n=Object(a.a)(t,2),r=n[0];null==n[1]&&delete e[r]})),e):{}}G.makeRequest=function(){var e=Object(u.a)(j.a.mark((function e(t,n,r){var c,i,o,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.startsWith("/")&&(n="http://localhost:3000"+n),c="",i=["POST","UPDATE"].includes(t)&&!!r,["GET","DELETE"].includes(t)?(o=new URLSearchParams(Object(s.a)({},r)),n+=o):i&&(r=J(r),c=JSON.stringify(r)),e.next=6,fetch(n,Object(s.a)({method:t,headers:{mode:"cors","Access-Control-Allow-Origin":"*","Content-Type":"application/json"}},i&&{body:c})).then((function(e){return e.json()})).catch((function(e){return e}));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),G.get=function(){var e=Object(u.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.makeRequest("GET",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G.post=function(){var e=Object(u.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.makeRequest("POST",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G.update=function(){var e=Object(u.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.makeRequest("UPDATE",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G.delete=function(){var e=Object(u.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.makeRequest("DELETE",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),window.$http=G;var q=G;function D(){var e=Object(b.useContext)(P),t=e.outings,n=e.getOuting,r=e.updateOuting,c=Object(o.g)(),i=Object(o.h)(),a=Object(b.useMemo)((function(){return n(parseInt(i.outingId,10))}),[n,i.outingId]),s=Object(b.useCallback)(Object(u.a)(j.a.mark((function e(){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=parseInt(i.outingId,10),q.post("/api/v1/outings/toggle_favorite",{id:n}),c=t.find((function(e){return e.id===parseInt(i.outingId,10)}))){e.next=6;break}return console.error("No existing outing in toggleFavorite"),e.abrupt("return");case 6:r(n,{is_favorite:!c.is_favorite});case 7:case"end":return e.stop()}}),e)}))),[r,i,t]),l=Object(b.useMemo)((function(){if(a)return Object(f.jsx)("button",{onClick:s,style:{backgroundColor:a.is_favorite?"pink":"blue"},children:a.is_favorite?Object(f.jsx)(W.a,{}):Object(f.jsx)(I.a,{})})}),[s,a]);if(!a)return Object(f.jsx)("main",{className:"outing-content",style:{padding:"1rem"},children:Object(f.jsx)("h2",{children:"Nothing here"})});var d=a.title,h=a.mood,p=a.price,O=a.description,x=a.image;return Object(f.jsxs)("main",{className:"outing-content",style:{padding:"1rem"},children:[Object(f.jsx)("h2",{children:d}),Object(f.jsx)("p",{children:"Excitement Rating:"}),Object(L.a)(Array(h)).map((function(e,t){return Object(f.jsx)(R.a,{},t)})),Object(f.jsx)("p",{children:"Favorite:"}),l,Object(f.jsx)("p",{children:"Price:"}),Object(L.a)(Array(p)).map((function(e,t){return Object(f.jsx)(A.a,{},t)})),Object(f.jsx)("p",{children:O}),x&&Object(f.jsx)("img",{src:x,alt:""}),Object(f.jsx)("p",{children:Object(f.jsx)("button",{onClick:function(){c("/outings")},children:"Delete"})})]})}var U=n(53),B=n(92),z=Object(U.a)({typography:{fontSize:22}}),M=function(e){var t=e.children,n=Object(b.useState)(!0),r=Object(a.a)(n,2),c=r[0],i=r[1],o=Object(b.useState)(h.light),s=Object(a.a)(o,2),u=s[0],l=s[1];return Object(f.jsx)(B.a,{theme:z,children:Object(f.jsx)(p.Provider,{value:{isLight:c,theme:u,toggleTheme:function(){u===h.light?(i(!1),l(h.dark)):(i(!0),l(h.light))}},children:t})})},V=[{id:1,title:"Go to park",description:"We want to visit the park! We talked about this last week",price:1,mood:2,category:6},{id:2,title:"Go shopping in Ginza",description:"We want to Go shopping in Ginza! We talked about this last week",price:5,mood:4,category:2},{id:3,title:"Visit Sensouji",description:"We want to Visit Sensouji! We talked about this last week",price:1,mood:3,category:6},{id:4,title:"Go to top of Tokyo Tower",description:"We want to Go to top of Tokyo Tower! We talked about this last week",price:1,mood:4,category:0},{id:5,title:"Watch Apocalypse Now",description:"We want to Watch Apocalypse Now! We talked about this last week",price:1,mood:2,category:5}];var $=function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){var t=e.children,n=Object(b.useState)([]),r=Object(a.a)(n,2),c=r[0],i=r[1];return Object(b.useEffect)((function(){$().then((function(e){return i(e)}))}),[]),Object(f.jsx)(P.Provider,{value:{outings:c,getOuting:function(e){return c.find((function(t){return t.id===e}))},updateOuting:function(e,t){var n=c.find((function(t){return t.id===e}));return n?(Object.keys(t).forEach((function(e){return n[e]=t[e]})),i(Object(L.a)(c)),!0):(console.error("No outing found (updateOuting)"),!1)}},children:t})},K=function(e){var t=e.outing,n=t.title,r=t.id,c=t.description,i=t.image;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:n}),Object(f.jsx)("p",{children:r}),Object(f.jsx)("p",{children:c}),i&&Object(f.jsx)("img",{alt:n,src:i})]})};function Q(){var e=Object(i.d)(),t=Object(a.a)(e,2),n=(t[0],t[1],O()),r=n.theme,c=(n.isLight,_().outings);return console.log(c[0]),Object(f.jsxs)("div",{className:"main",style:Object(s.a)({},r),children:[Object(f.jsx)(K,{outing:c[0]}),Object(f.jsx)(K,{outing:c[1]})]})}var X="outings_jwt";function Y(){var e=Object(g.a)(),t=e.register,n=e.handleSubmit,r=(e.formState.errors,function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:"hayatoclarke@gmail.com",password:"111111"},"http://localhost:3000/auth/login",e.next=4,fetch("http://localhost:3000/auth/login",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 4:return n=e.sent,e.next=7,n.json();case 7:return null!==(r=e.sent)&&void 0!==r&&r.token&&r.token.length&&(c=r.token,localStorage.setItem(X,c),console.log("saved token all good")),e.abrupt("return",r);case 10:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}()),c=n(function(){var e=Object(u.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:3000/api/v1/outings",e.next=3,fetch("http://localhost:3000/api/v1/outings",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("form",{onSubmit:c,children:[Object(f.jsx)("label",{htmlFor:"couple_id",children:"Outing Id (1 for testing)"}),Object(f.jsx)("input",Object(s.a)({},t("couple_id"))),Object(f.jsx)("input",Object(s.a)({},t("title"))),Object(f.jsx)("input",Object(s.a)({},t("description"))),Object(f.jsx)("input",Object(s.a)({},t("price"))),Object(f.jsx)("input",{type:"submit"})]}),Object(f.jsx)("p",{children:"hello there fool!"}),Object(f.jsx)("button",{onClick:r,children:"Log in?"})]})}function Z(){var e=Object(g.a)(),t=e.register,n=e.handleSubmit,r=(e.formState.errors,n(function(){var e=Object(u.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({data:t}),"http://localhost:3000/api/v1/users",e.next=4,fetch("http://localhost:3000/api/v1/users",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 4:return n=e.sent,r=n.json(),console.log({r:r}),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));return Object(f.jsxs)("form",{onSubmit:r,children:[Object(f.jsx)("label",{htmlFor:"f_name",children:"First Name"}),Object(f.jsx)("input",Object(s.a)({},t("f_name"))),Object(f.jsx)("label",{htmlFor:"l_name",children:"Last Name"}),Object(f.jsx)("input",Object(s.a)({},t("l_name"))),Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",Object(s.a)({},t("email"))),Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",Object(s.a)({},t("password"))),Object(f.jsx)("label",{htmlFor:"password_confirmation",children:"Password Confirmation"}),Object(f.jsx)("input",Object(s.a)({},t("password_confirmation"))),Object(f.jsx)("input",{type:"submit"})]})}var ee=function(){var e=Object(b.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:3000/api/v1/users",e.next=3,fetch("http://localhost:3000/api/v1/users",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t=e.sent,n=t.map((function(e){var t=e.f_name,n=e.l_name,r=e.email;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["First: ",t]}),Object(f.jsxs)("p",{children:["Last: ",n]}),Object(f.jsxs)("p",{children:["Email: ",r]})]},r)})),r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)(d.a,{onClick:i,children:"get user data"}),n.length&&n]})};c.a.render(Object(f.jsx)(H,{children:Object(f.jsx)(M,{children:Object(f.jsx)(i.a,{children:Object(f.jsx)(o.d,{children:Object(f.jsxs)(o.b,{path:"/",element:Object(f.jsx)(y,{}),children:[Object(f.jsx)(o.b,{path:"expenses",element:Object(f.jsx)(k,{})}),Object(f.jsxs)(o.b,{path:"outings",element:Object(f.jsx)(F,{}),children:[Object(f.jsx)(o.b,{index:!0,element:Object(f.jsx)("main",{style:{padding:"1rem"},children:Object(f.jsx)("p",{children:"Select an outing"})})}),Object(f.jsx)(o.b,{path:":outingId",element:Object(f.jsx)(D,{})})]}),Object(f.jsx)(o.b,{path:"swiper",element:Object(f.jsx)(Q,{})}),Object(f.jsx)(o.b,{path:"new_outing",element:Object(f.jsx)(Y,{})}),Object(f.jsx)(o.b,{path:"new_user",element:Object(f.jsx)(Z,{})}),Object(f.jsx)(o.b,{path:"users",element:Object(f.jsx)(ee,{})}),Object(f.jsx)(o.b,{path:"*",element:Object(f.jsx)("main",{style:{padding:"1rem"},children:Object(f.jsx)("p",{children:"There's nothing here!"})})})]})})})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.768db0b9.chunk.js.map